!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.fecha={})}(this,function(e){"use strict";const t=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,n="[^\\s]+",r=/\[([^]*?)\]/gm;function o(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")}function a(e,t){for(var n=[],r=0,o=e.length;r<o;r++)n.push(e[r].substr(0,t));return n}function s(e){return function(t,n){var r=n[e].indexOf(t.charAt(0).toUpperCase()+t.substr(1).toLowerCase());return~r?r:null}}function d(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}const u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],m=a(i,3),l={dayNamesShort:a(u,3),dayNames:u,monthNamesShort:m,monthNames:i,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}},h={D:e=>e.getDate(),DD:e=>d(e.getDate()),Do:(e,t)=>t.DoFn(e.getDate()),d:e=>e.getDay(),dd:e=>d(e.getDay()),ddd:(e,t)=>t.dayNamesShort[e.getDay()],dddd:(e,t)=>t.dayNames[e.getDay()],M:e=>e.getMonth()+1,MM:e=>d(e.getMonth()+1),MMM:(e,t)=>t.monthNamesShort[e.getMonth()],MMMM:(e,t)=>t.monthNames[e.getMonth()],YY:e=>d(String(e.getFullYear()),4).substr(2),YYYY:e=>d(e.getFullYear(),4),h:e=>e.getHours()%12||12,hh:e=>d(e.getHours()%12||12),H:e=>e.getHours(),HH:e=>d(e.getHours()),m:e=>e.getMinutes(),mm:e=>d(e.getMinutes()),s:e=>e.getSeconds(),ss:e=>d(e.getSeconds()),S:e=>Math.round(e.getMilliseconds()/100),SS:e=>d(Math.round(e.getMilliseconds()/10),2),SSS:e=>d(e.getMilliseconds(),3),a:(e,t)=>e.getHours()<12?t.amPm[0]:t.amPm[1],A:(e,t)=>e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase(),ZZ(e){const t=e.getTimezoneOffset();return(t>0?"-":"+")+d(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},c=e=>e-1;var f={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+n,e=>parseInt(e,10)],M:["month","[1-9]\\d?",c],MM:["month","\\d\\d",c],YY:["year","\\d\\d",function(e){const t=+(""+(new Date).getFullYear()).substr(0,2);return""+(e>68?t-1:t)+e}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",e=>100*e],SS:["millisecond","\\d\\d",e=>10*e],SSS:["millisecond","\\d{3}"],d:[null,"[1-9]\\d?"],ddd:[null,n],MMM:["month",n,s("monthNamesShort")],MMMM:["month",n,s("monthNames")],a:["isPm",n,function(e,t){const n=e.toLowerCase();return n!==t.amPm[0]&&(n===t.amPm[1]||null)}],ZZ:["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){const t=(e+"").match(/([+-]|\d\d)/gi);if(t){const e=60*t[1]+parseInt(t[2],10);return"+"===t[0]?e:-e}return 0}]};f.dd=f.d,f.dddd=f.ddd,f.A=f.a;const M={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"};e.formatDate=((e,n=M.default,o=l)=>{if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");let a=[];return(n=(n=(n=M[n]||n).replace(r,function(e,t){return a.push(t),"@@@"})).replace(t,t=>h[t](e,o))).replace(/@@@/g,()=>a.shift())}),e.parseDate=((e,n,a=l)=>{if("string"!=typeof n)throw new Error("Invalid format in fecha parse");if(n=M[n]||n,e.length>1e3)return null;var s={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0},d=[],u=[],i=n.replace(r,function(e,t){return u.push(o(t)),"@@@"});const m={},h={};i=o(i).replace(t,function(e){const t=f[e],[n,r,,o]=t;if(m[n])throw new Error(`Invalid format. ${n} specified twice in format`);return m[n]=!0,o&&(h[o]=!0),d.push(t),"("+r+")"}),Object.keys(h).forEach(e=>{if(!m[e])throw new Error(`Invalid format. ${e} is required in specified format`)}),i=i.replace(/@@@/g,function(){return u.shift()});const c=e.match(new RegExp(i,"i"));if(!c)return null;for(let e=1;e<c.length;e++){const[t,,n]=d[e-1],r=n?n(c[e],a):+c[e];if(null==r)return null;s[t]=r}!0===s.isPm&&null!=s.hour&&12!=+s.hour?s.hour=+s.hour+12:!1===s.isPm&&12==+s.hour&&(s.hour=0);const g=new Date(s.year,s.month,s.day,s.hour,s.minute,s.second,s.millisecond),D=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]];for(let e=0,t=D.length;e<t;e++)if(s[D[e][0]]!==g[D[e][1]]())return null;return null==s.timezoneOffset?g:(s.minute=s.minute-s.timezoneOffset,new Date(Date.UTC(s.year,s.month,s.day,s.hour,s.minute,s.second,s.millisecond)))}),e.setGlobalDateI18n=(e=>Object.assign(l,e)),e.setGlobalDateMasks=(e=>Object.assign(M,e)),Object.defineProperty(e,"__esModule",{value:!0})});
